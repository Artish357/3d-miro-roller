import"./style.a87c9e06.js";async function c(){miro.board.ui.on("icon:click",async()=>{await miro.board.ui.openPanel({url:"miro.html"})}),miro.board.events.on("roll-result",async t=>{let o=String(t);o.length>80&&(o="..."+o.slice(-75)),await miro.board.notifications.showInfo(o)}),miro.board.ui.on("custom:roll-formula-tag",async({items:t})=>{var r,n;const o=t.flatMap(a=>a.tagIds),l=await miro.board.get({type:"tag",id:o}),e=t[0].content.replaceAll("&#43;","+").replaceAll("&#45;","-"),s=(n=(r=/[+-]\d+/.exec(e))==null?void 0:r[0])!=null?n:"",i=l.map(a=>a.title.replaceAll("{MOD}",s)).slice(0,1);console.log("formulas",i,e),miro.board.ui.openPanel({url:`miro.html?r=${Math.random()}`,data:{formulas:i}})}),await miro.board.experimental.action.register({event:"roll-formula-tag",ui:{label:{en:"Roll the attached tag formula"},icon:"hexagon"},scope:"local",predicate:{$where:"this.tagIds && this.tagIds.length > 0"},contexts:{item:{}}}),miro.board.events.on("roll-result",async t=>{let o=String(t);o.length>80&&(o="..."+o.slice(-75)),await miro.board.notifications.showInfo(o)})}c();
